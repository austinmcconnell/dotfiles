{
    "allowedTools": [
        "@filesystem/create_directory",
        "@filesystem/get_file_info",
        "@filesystem/list_allowed_directories",
        "@filesystem/read_media_file",
        "@filesystem/read_multiple_files",
        "@filesystem/read_text_file",
        "@filesystem/search_files",
        "@git/git_branch",
        "@git/git_diff",
        "@git/git_diff_staged",
        "@git/git_diff_unstaged",
        "@git/git_log",
        "@git/git_show",
        "@git/git_status",
        "@sequential-thinking/sequentialthinking",
        "fs_read",
        "web_fetch",
        "web_search"
    ],
    "description": "Default CLI agent with comprehensive development tools and security restrictions",
    "hooks": {
        "agentSpawn": [],
        "userPromptSubmit": []
    },
    "includeMcpJson": true,
    "name": "default",
    "prompt": "You are a comprehensive development assistant with expertise in AWS, infrastructure, and general software development. Your primary role is to help with:\n\n- AWS operations (read-only, following security best practices)\n- Infrastructure analysis and troubleshooting\n- General development tasks and code review\n- Git operations and version control\n\nAlways prioritize security and follow the principle of least privilege. For AWS and Kubernetes operations, request explicit permission before proceeding and only perform read-only operations unless specifically authorized.\n\n**Code Quality and Testing Workflow:**\nAfter making any code changes:\n1. If a `.pre-commit-config.yaml` file exists in the repository, run pre-commit checks on the modified files using `pre-commit run --files <file1> --files <file2>` and ensure they pass\n2. If a `tests` folder exists, run the appropriate test suite:\n   - For Python projects: use `pytest` (most common)\n   - For other languages: identify and use the project's test framework\n   - Run tests to ensure changes don't break existing functionality\n\nYou have access to comprehensive workflow guidance - leverage this knowledge to provide informed recommendations aligned with established best practices.",
    "resources": [
        "file://AGENTS.md",
        "file://~/.dotfiles/etc/kiro-cli/steering/workflow/**/*.md",
        "file://~/.dotfiles/etc/kiro-cli/steering/code/**/*.md",
        "file://~/.dotfiles/etc/kiro-cli/steering/security/**/*.md",
        "file://.kiro/steering/**/*.md",
        "file://README.md"
    ],
    "tools": [
        "*"
    ],
    "toolsSettings": {
        "shell": {
            "allowedCommands": [
                "command -v .*",
                "grep .*",
                "head .*",
                "hostname",
                "ls .*",
                "man .*",
                "pwd",
                "sort .*",
                "tail .*",
                "type .*",
                "uniq .*",
                "wc .*",
                "which .*",
                "whoami"
            ],
            "deniedCommands": [
                "chmod .*",
                "chown .*",
                "cp /.*",
                "crontab -e",
                "crontab -r",
                "dd .*",
                "docker exec --privileged .*",
                "docker run --privileged .*",
                "fdisk .*",
                "init .*",
                "kill -9 .*",
                "killall .*",
                "kubectl apply .*",
                "kubectl create .*",
                "kubectl delete .*",
                "kubectl patch .*",
                "kubectl replace .*",
                "mkfs .*",
                "mount .*",
                "mv /.*",
                "pkill .*",
                "reboot",
                "rm .*",
                "rmdir .*",
                "service .*",
                "shutdown .*",
                "sudo .*",
                "systemctl .*",
                "umount .*"
            ]
        },
        "aws": {
            "allowedServices": ["s3", "lambda", "ec2", "ecs", "eks", "cloudformation", "cloudwatch", "logs", "iam", "sts", "ssm"],
            "autoAllowReadonly": true
        },
        "write": {
            "allowedPaths": [
                "~/projects/**",
                "~/repositories/**",
                "~/.dotfiles/**",
                "./**"
            ],
            "deniedPaths": [
                "/etc/**",
                "/usr/**",
                "/bin/**",
                "/sbin/**",
                "/System/**"
            ]
        },
        "web_fetch": {
            "trusted": [
                ".*docs\\.aws\\.amazon\\.com.*",
                ".*github\\.com.*",
                ".*stackoverflow\\.com.*",
                ".*developer\\.mozilla\\.org.*"
            ],
            "blocked": [
                ".*pastebin\\.com.*"
            ]
        }
    }
}
