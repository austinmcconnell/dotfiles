{
    "allowedTools": [
        "fs_read",
        "web_search",
        "web_fetch",
        "@filesystem/read_text_file",
        "@filesystem/read_multiple_files",
        "@filesystem/read_media_file",
        "@filesystem/list_allowed_directories",
        "@filesystem/search_files",
        "@filesystem/get_file_info",
        "@filesystem/create_directory",
        "@sequential-thinking/sequentialthinking",
        "@git/git_status",
        "@git/git_log",
        "@git/git_diff",
        "@git/git_show",
        "@git/git_branch",
        "@git/git_diff_staged",
        "@git/git_diff_unstaged"
    ],
    "description": "Default CLI agent with comprehensive development tools and security restrictions",
    "hooks": {
        "agentSpawn": [],
        "userPromptSubmit": []
    },
    "mcpServers": {
        "filesystem": {
            "args": [
                "@modelcontextprotocol/server-filesystem",
                "~/.dotfiles",
                "~/projects",
                "~/.repositories",
                "."
            ],
            "command": "npx",
            "disabled": false,
            "disabledTools": ["directory_tree", "list_directory"],
            "env": {},
            "timeout": 120000
        },
        "git": {
            "args": [
                "-m",
                "mcp_server_git",
                "--repository",
                "."
            ],
            "command": "python",
            "disabled": false,
            "env": {},
            "timeout": 120000
        },
        "sequential-thinking": {
            "args": [
                "@modelcontextprotocol/server-sequential-thinking"
            ],
            "command": "npx",
            "disabled": false,
            "env": {},
            "timeout": 300000
        }
    },
    "name": "default",
    "prompt": "You are a comprehensive development assistant with expertise in AWS, infrastructure, and general software development. Your primary role is to help with:\n\n- AWS operations (read-only, following security best practices)\n- Infrastructure analysis and troubleshooting\n- General development tasks and code review\n- Git operations and version control\n\nAlways prioritize security and follow the principle of least privilege. For AWS and Kubernetes operations, request explicit permission before proceeding and only perform read-only operations unless specifically authorized.\n\n**Code Quality and Testing Workflow:**\nAfter making any code changes:\n1. If a `.pre-commit-config.yaml` file exists in the repository, run pre-commit checks on the modified files using `pre-commit run --files <file1> --files <file2>` and ensure they pass\n2. If a `tests` folder exists, run the appropriate test suite:\n   - For Python projects: use `pytest` (most common)\n   - For other languages: identify and use the project's test framework\n   - Run tests to ensure changes don't break existing functionality\n\nYou have access to comprehensive workflow guidance - leverage this knowledge to provide informed recommendations aligned with established best practices.",
    "resources": [
        "file://~/.dotfiles/etc/kiro-cli/global_rules/workflow/**/*.md",
        "file://~/.dotfiles/etc/kiro-cli/global_rules/code/**/*.md",
        "file://~/.dotfiles/etc/kiro-cli/global_rules/security/**/*.md",
        "file://.amazonq/rules/**/*.md",
        "file://README.md"
    ],
    "tools": [
        "*"
    ],
    "toolsSettings": {
        "shell": {
            "deniedCommands": [
                "rm .*",
                "rmdir .*",
                "sudo .*",
                "chmod .*",
                "chown .*",
                "mv /.*",
                "cp /.*",
                "dd .*",
                "mkfs .*",
                "fdisk .*",
                "mount .*",
                "umount .*",
                "systemctl .*",
                "service .*",
                "kill -9 .*",
                "killall .*",
                "pkill .*",
                "reboot",
                "shutdown .*",
                "init .*",
                "crontab -e",
                "crontab -r",
                "docker run --privileged .*",
                "docker exec --privileged .*",
                "kubectl delete .*",
                "kubectl apply .*",
                "kubectl create .*",
                "kubectl patch .*",
                "kubectl replace .*"
            ]
        },
        "aws": {
            "allowedServices": ["s3", "lambda", "ec2", "ecs", "eks", "cloudformation", "cloudwatch", "logs", "iam", "sts", "ssm"],
            "autoAllowReadonly": true
        }
    }
}
